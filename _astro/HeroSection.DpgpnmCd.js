import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as d}from"./index.BJfUAbRs.js";import{s as o,g as u,f as g,S as c}from"./sweetalert2.esm.all.CV6m8Zzw.js";function f({className:a}){return e.jsx("svg",{className:a,fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})}const A=()=>{const[a,p]=d.useState({total_downloads:0,total_ratings:0,average_rating:0}),[l,h]=d.useState(null),[x,m]=d.useState(0);d.useEffect(()=>{y(),b()},[]);async function y(){try{const t=await fetch("https://myapi.videyhost.my.id/api/?action=get_stats&token=AgungDeveloper");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();r.success?p(r):o("Failed to load statistics.","error")}catch{o("Error loading statistics. Please try again.","error")}}async function b(){try{const{userAgent:t}=await u(),r=await fetch("https://myapi.videyhost.my.id/api/?action=get_user_rating&token=AgungDeveloper",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAgent:t})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json();s.success&&s.has_rated&&(h(s.rating),m(s.rating))}catch{o("Error loading user rating.","error")}}async function j(t){c.fire({title:"Confirm Your Rating",text:`Are you sure you want to give ${t} star${t>1?"s":""} to Neon Injector?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, submit",cancelButtonText:"Cancel",customClass:{popup:"bg-gray-800 text-white",confirmButton:"bg-neon-purple text-white px-4 py-2 rounded-lg",cancelButton:"bg-gray-600 text-white px-4 py-2 rounded-lg"}}).then(async r=>{if(r.isConfirmed)try{const{userAgent:s}=await u(),n=await fetch("https://myapi.videyhost.my.id/api/?action=rate&token=AgungDeveloper",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:t,userAgent:s})});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();i.success?(p(N=>({...N,total_ratings:i.total_ratings,average_rating:i.average_rating})),h(t),m(t),c.fire({title:"Success!",text:"Rating submitted successfully!",icon:"success",customClass:{popup:"bg-gray-800 text-white",confirmButton:"bg-neon-purple text-white px-4 py-2 rounded-lg"}})):c.fire({title:"Error!",text:i.message||"Failed to submit rating.",icon:"error",customClass:{popup:"bg-gray-800 text-white",confirmButton:"bg-neon-purple text-white px-4 py-2 rounded-lg"}})}catch{c.fire({title:"Error!",text:"Error submitting rating. Please try again.",icon:"error",customClass:{popup:"bg-gray-800 text-white",confirmButton:"bg-neon-purple text-white px-4 py-2 rounded-lg"}})}})}async function w(){try{const{userAgent:t}=await u(),s=await(await fetch("https://myapi.videyhost.my.id/api/?action=download&token=AgungDeveloper",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userAgent:t})})).json();s.success?(p(n=>({...n,total_downloads:s.total_downloads})),o("Download recorded successfully!","success")):s.message==="This device has already downloaded the app"?o("You have already downloaded the app.","error"):o(s.message||"Failed to record download.","error")}catch{o("Error processing download. Please try again.","error")}finally{window.location.href="/download"}}return e.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center text-center relative z-10 px-4 sm:px-6",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-neon-purple dark:text-neon-purple",children:["Neon ",e.jsx("span",{className:"text-neon-purple-light dark:text-neon-purple-light",children:"Injector"})]}),e.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mt-4 max-w-xl text-gray-300 dark:text-light-text",children:"The Best Application Injector for Mobile Legends. Experience the ease of using visual skins without any hassle. Works on all Androids."}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4 w-full max-w-xs sm:max-w-md",children:[e.jsx("button",{id:"downloadBtn",onClick:w,className:"px-4 py-2 bg-neon-purple text-white dark:text-white rounded-lg shadow-neon-glow hover:bg-neon-purple-light transition-colors text-sm sm:text-base",children:"Download"}),e.jsx("a",{href:"/docs",className:"px-4 py-2 bg-transparent text-neon-purple dark:text-neon-purple rounded-lg border border-neon-purple hover:bg-neon-purple-dark dark:hover:bg-transparent transition-colors text-sm sm:text-base",children:"View Docs"})]}),e.jsxs("div",{className:"mt-6 w-full max-w-2xl",children:[e.jsx("div",{className:"flex justify-center mb-4",id:"ratingInput",role:"radiogroup","aria-label":"Rate this app",children:[1,2,3,4,5].map(t=>e.jsx("button",{className:`starBtn focus:outline-none ${l?"cursor-not-allowed opacity-50":""}`,onClick:()=>!l&&j(t),onMouseEnter:()=>!l&&document.querySelectorAll(".starBtn").forEach((r,s)=>{const n=r.querySelector("svg");s<t?(n.setAttribute("fill","#facc15"),n.classList.remove("text-gray-400")):(n.setAttribute("fill","none"),n.classList.add("text-gray-400"))}),onMouseLeave:()=>!l&&document.querySelectorAll(".starBtn").forEach((r,s)=>{const n=r.querySelector("svg");s<x?(n.setAttribute("fill","#facc15"),n.classList.remove("text-gray-400")):(n.setAttribute("fill","none"),n.classList.add("text-gray-400"))}),disabled:!!l,"aria-label":`Rate ${t} star${t>1?"s":""}`,children:e.jsx(f,{className:`w-6 h-6 ${x>=t?"fill-yellow-400":"text-gray-400"} transition-colors`,fill:x>=t?"#facc15":"none",stroke:"currentColor"})},t))}),e.jsxs("div",{className:"grid grid-cols-1 text-xs text-gray-300 dark:text-light-text",itemScope:!0,itemType:"http://schema.org/AggregateRating",children:[e.jsx("meta",{itemProp:"itemReviewed",content:"Neon Injector"}),e.jsx("meta",{itemProp:"ratingCount",content:a.total_ratings||0}),e.jsx("meta",{itemProp:"ratingValue",content:a.average_rating?a.average_rating.toFixed(1):"0.0"}),e.jsxs("table",{className:"w-full border-collapse border border-neon-purple-dark",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-1.5 text-center text-neon-purple dark:text-neon-purple font-semibold border border-neon-purple-dark",children:"Detail"}),e.jsx("th",{className:"px-3 py-1.5 text-center text-neon-purple dark:text-neon-purple font-semibold border border-neon-purple-dark",children:"Information"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Total Downloads"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:g(a.total_downloads)})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"⭐"})," Rating"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:e.jsxs("div",{className:"flex items-center flex-wrap gap-1",children:[e.jsx("div",{className:"flex space-x-0.5 mr-1",id:"avgRatingStars","aria-label":"Average rating",children:[...Array(5)].map((t,r)=>e.jsx(f,{className:"w-4 h-4",fill:r<Math.floor(a.average_rating)?"#facc15":r===Math.floor(a.average_rating)&&a.average_rating%1>=.5?"url(#halfGrad)":"#9ca3af",children:r===Math.floor(a.average_rating)&&a.average_rating%1>=.5&&e.jsx("defs",{children:e.jsxs("linearGradient",{id:"halfGrad",x1:"0%",x2:"100%",children:[e.jsx("stop",{offset:"50%",stopColor:"#facc15"}),e.jsx("stop",{offset:"50%",stopColor:"#9ca3af"})]})})},r))}),e.jsxs("span",{children:[g(a.total_ratings)," reviews"]})]})})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Name"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Neon Injector"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Publisher"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Agung Developer"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Category"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Tools"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Version"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"1.0"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Size"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"8MB"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Package Name"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"com.neon.injector"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Price"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Free"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," Requires"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Works on All Android"})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"px-3 py-1.5 flex items-center text-left border border-neon-purple-dark",children:[e.jsx("span",{className:"w-4 h-4 mr-1.5 text-neon-purple",children:"ℹ️"})," APK Features"]}),e.jsx("td",{className:"px-3 py-1.5 text-left border border-neon-purple-dark",children:"Unlock All Skin"})]})]})]})]})]})]})};export{A as default};
